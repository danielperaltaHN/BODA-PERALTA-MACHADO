<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Ana Josse & Daniel | Invitación</title>

  <!-- Fuentes (similar feel a la referencia) -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
/* === Responsive hardening (v9.6.1) === */
*, *::before, *::after { box-sizing: border-box; }
html, body { width: 100%; overflow-x: hidden; -webkit-text-size-adjust: 100%; }
img { max-width: 100%; height: auto; }
:root { --vwPad: clamp(14px, 4vw, 28px); }

    :root{
      /* Verde lujo fresco + dorado suave (sin rojo / blanco / beige) */
      --bg0:#041a11;
      --bg1:#063324;
      --bg2:#0a4e36;
      --bg3:#0f6b49;
      --mint:#2cc38a;

      /* “Papel” verdoso (evita blanco/beige) */
      --paper:#e7f2ec;
      --paper2:#d4eadf;
      --paper3:#c8e3d7;

      --ink:#061f14;
      --muted:#2b5a43;

      --gold:#b89455;
      --gold2:#d7be86;
      --gold3:#9f7c3d;

      --shadow: 0 24px 90px rgba(0,0,0,.30);
      --soft: 0 16px 40px rgba(0,0,0,.14);
      --radius:22px;

      --container: 1080px;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family:'Montserrat',sans-serif;
      color:#eef6f1;
      background:
        radial-gradient(1100px 680px at 50% 18%, rgba(44,195,138,.16), transparent 62%),
        radial-gradient(1300px 820px at 18% 88%, rgba(12,74,49,.30), transparent 60%),
        radial-gradient(1100px 740px at 88% 82%, rgba(7,48,33,.36), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      text-align:center;
      scroll-behavior:smooth;
      overflow-x:hidden;
    }

    h1,h2,h3{font-family:'Playfair Display',serif}
    a{color:inherit;text-decoration:none}

    .container{max-width:var(--container);margin:0 auto;padding:0 20px}
    .section {padding:78px 0
  padding-left: var(--vwPad);
  padding-right: var(--vwPad);
  overflow: hidden;
}
    .paper{background:var(--paper2); color:var(--ink)}
    .paper-soft{background:var(--paper); color:var(--ink)}
    .dark{background:rgba(7,48,33,.82)}
    .divider{
      width:min(540px, 80vw);
      height:1px;
      margin:18px auto 0;
      background:linear-gradient(90deg, transparent, rgba(184,148,85,.65), transparent);
    }
    .mini-divider{
      width:120px;height:1px;margin:14px auto;background:rgba(184,148,85,.55);
    }

    /* ============ BOTONES ============ */
    .btn{
      display:inline-flex;
      gap:10px;
      align-items:center;
      justify-content:center;
      border:none;
      border-radius:16px;
      padding:14px 22px;
      font-weight:600;
      cursor:pointer;
      background:linear-gradient(180deg, var(--gold2), var(--gold));
      color:var(--ink);
      box-shadow: 0 12px 18px rgba(0,0,0,.14);
      transition:transform .15s ease, filter .15s ease;
    }
    .btn:hover{transform:translateY(-1px); filter:brightness(1.03)}
    .btn:active{transform:translateY(0px) scale(.99)}
    .btn.small{padding:10px 16px;border-radius:14px;font-size:13px}
    .btn.outline{
      background:transparent;
      border:1px solid rgba(184,148,85,.55);
      color:var(--ink);
      box-shadow:none;
    }

    .icon{
      width:20px;height:20px;display:inline-block;vertical-align:middle;
      fill:none;stroke:rgba(6,31,20,.92);stroke-width:2;stroke-linecap:round;stroke-linejoin:round;
    }

    /* ============ PORTADA (SOBRE) ============ */
    .gate{
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      padding:18px;
      z-index:9999;
    }
    .gate::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(1100px 680px at 50% 18%, rgba(44,195,138,.16), transparent 62%),
        radial-gradient(1300px 820px at 18% 88%, rgba(12,74,49,.28), transparent 60%),
        radial-gradient(1100px 740px at 88% 82%, rgba(7,48,33,.34), transparent 62%),
        linear-gradient(180deg, rgba(4,26,17,.86), rgba(7,48,33,.92));
      backdrop-filter: blur(8px);
      pointer-events:none;
}


    .gate-card{
      position:relative;
      width:min(920px, 94vw);
      background:rgba(231,242,236,.98);
      color:var(--ink);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:52px 22px 42px;
      overflow:hidden;
    }
    .gate-card::after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(2px 2px at 10% 20%, rgba(0,0,0,.03), transparent 60%),
        radial-gradient(2px 2px at 30% 60%, rgba(0,0,0,.03), transparent 60%),
        radial-gradient(2px 2px at 70% 40%, rgba(0,0,0,.03), transparent 60%),
        radial-gradient(2px 2px at 85% 75%, rgba(0,0,0,.03), transparent 60%);
      opacity:.55;
      pointer-events:none;
      mix-blend-mode:multiply;
    }

    .gate-names{
      position:relative; z-index:2;
      font-size:58px;
      letter-spacing:.3px;
      line-height:1.05;
    }
    .gate-names .amp{color:rgba(184,148,85,.92);font-weight:700}
    .guestLine{
      position:relative; z-index:2;
      margin-top:14px;
      font-size:18px;
      letter-spacing:1px;
      text-transform:uppercase;
      opacity:.88;
    }
    .paxLine{
      position:relative; z-index:2;
      margin-top:6px;
      font-size:18px;
      color:rgba(184,148,85,1);
    }
    .gate-hint{
      position:relative; z-index:2;
      margin-top:22px;
      font-size:16px;
      opacity:.78;
    }

    .env-wrap{
      position:relative; z-index:2;
      margin:18px auto 0;
      width:min(440px, 88vw);
      cursor:pointer;
      user-select:none;
      outline:none;
    }
    .env-svg{width:100%;display:block;filter: drop-shadow(0 16px 20px rgba(0,0,0,.12));}
    .env-shadow{
      width:92%;height:18px;margin:10px auto 0;
      background:radial-gradient(closest-side, rgba(0,0,0,.22), transparent 74%);
      filter:blur(1px);
    }
    .flap{
      transform-box: fill-box;
      transform-origin: 50% 10%;
      transform: rotateX(0deg);
      transition: transform 900ms cubic-bezier(.2,.85,.1,1);
    }
    .open .flap{ transform: rotateX(160deg); }

    .gate-tip{
      position:relative; z-index:2;
      margin-top:16px;
      font-size:13px;
      opacity:.72;
    }

    .gate-floral{
      position:absolute;
      left:50%;
      bottom:-24px;
      transform:translateX(-50%);
      width:min(760px, 94vw);
      opacity:.34;
      pointer-events:none;
      z-index:1;
    }

    /* ============ HERO ============ */
    .hero{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:88px 0 64px;
      background:
        radial-gradient(900px 520px at 50% 18%, rgba(44,195,138,.12), transparent 62%),
        linear-gradient(rgba(4,26,17,.78), rgba(4,26,17,.78)),
        url('https://images.unsplash.com/photo-1522673607200-164d1b6ce486?auto=format&fit=crop&w=1800&q=80');
      background-size:cover;
      background-position:center;
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:42px;
      align-items:center;
      width:100%;
      max-width:var(--container);
      padding:0 20px;
    }

    .hero-left{
      text-align:left;
      color:var(--paper);
    }
    .playRow{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .playLabel{font-size:13px;opacity:.85}
    .musicBtn{
      background:rgba(184,148,85,.96);
      color:var(--ink);
      border:none;
      border-radius:10px;
      padding:8px 14px;
      cursor:pointer;
      font-weight:700;
      box-shadow:0 10px 18px rgba(0,0,0,.18);
    }

    .heroTitle{
      margin-top:20px;
      font-size:68px;
      line-height:1.0;
      letter-spacing:.3px;
    }
    .heroAmp{
      display:inline-block;
      color:rgba(184,148,85,.96);
      font-weight:700;
      transform:translateY(-2px);
    }

    .ornament{
      margin-top:10px;
      width:320px;max-width:80%;
      opacity:.95;
    }

    .countBox{
      margin-top:28px;
      background:rgba(215,235,225,.86);
      border:1px solid rgba(184,148,85,.20);
      border-radius:18px;
      padding:22px 18px;
      box-shadow:var(--soft);
      color:var(--ink);
      max-width:520px;
    }
    .countBox h3{font-size:26px}
    .countNums{
      margin-top:14px;
      display:grid;
      grid-template-columns: repeat(4,1fr);
      gap:10px;
    }
    .countCell{
      background:rgba(231,242,236,.85);
      border-radius:14px;
      padding:12px 10px;
      border:1px solid rgba(6,31,20,.08);
    }
    .countVal{font-size:22px;font-weight:700;color:rgba(184,148,85,.96);}
    .countLab{margin-top:2px;font-size:11px;opacity:.8}

    .hero-right{
      display:flex;align-items:center;justify-content:center;
    }

    /* Marco hexagonal tipo referencia */
    .hex{
      width:min(420px, 82vw);
      aspect-ratio: 1/1;
      position:relative;
      isolation:isolate;
      filter: drop-shadow(0 18px 24px rgba(0,0,0,.20));
    }
    .hex::before{
      z-index:0;
      content:"";
      position:absolute; inset:-18px;
      background:rgba(215,235,225,.15);
      clip-path: polygon(25% 6%, 75% 6%, 98% 50%, 75% 94%, 25% 94%, 2% 50%);
      border:1px solid rgba(184,148,85,.35);
      transform:rotate(-10deg);
      border-radius:14px;
    }
    .hex::after{
      z-index:2;
      content:"";
      position:absolute; inset:-5px;
      background:transparent;
      clip-path: polygon(25% 6%, 75% 6%, 98% 50%, 75% 94%, 25% 94%, 2% 50%);
      border:2px solid rgba(184,148,85,.35);
      transform:rotate(-10deg);
      border-radius:14px;
    }
    .hexImg{
      z-index:1;
      position:absolute; inset:14px;
      clip-path: polygon(25% 6%, 75% 6%, 98% 50%, 75% 94%, 25% 94%, 2% 50%);
      transform:rotate(-10deg);
      background:
        url('assets/fotos/FOTO-14.jpg') center/cover no-repeat;
      border-radius:14px;
    }
    .hexDecor{
      position:absolute;
      right:-10px; bottom:-18px;
      width:190px;
      opacity:.82;
      pointer-events:none;
      transform:rotate(-8deg);
    }

    /* ============ PADRES / FECHA ============ */
    .parentsTop{
      font-size:16px;
      letter-spacing:.6px;
      color:rgba(184,148,85,.92);
    }
    .parentsGrid{
      margin-top:24px;
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      gap:18px;
      align-items:start;
      text-transform:uppercase;
      letter-spacing:1.2px;
    }
    .parentsGrid .and{
      color:rgba(184,148,85,.9);
      font-size:28px;
      padding-top:8px;
    }
    .parentsCol{
      font-size:18px;
      line-height:1.35;
      font-weight:500;
    }
    .parentItem{margin-top:10px}
    .parentItem:first-child{margin-top:0}
    .parentRole{
      font-size:12px;
      letter-spacing:1.8px;
      color:rgba(6,31,20,.55);
      font-weight:600;
    }
    .parentName{
      margin-top:6px;
      font-family:'Playfair Display',serif;
      font-size:22px;
      letter-spacing:.3px;
      text-transform:none;
      color:rgba(6,31,20,.90);
    }

    .dateIntro{
      margin-top:46px;
      font-size:18px;
      color:rgba(6,31,20,.72);
    }
    .dateCard{
      margin:22px auto 0;
      width:min(560px, 94vw);
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      gap:14px;
      padding:18px 18px;
      border-radius:20px;
      background:rgba(215,235,225,.85);
      border:1px solid rgba(184,148,85,.22);
      box-shadow:var(--soft);
    }
    .dateSide{
      font-family:'Playfair Display',serif;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size:18px;
      color:rgba(6,31,20,.78);
    }
    .dateMid{
      font-family:'Playfair Display',serif;
      font-size:74px;
      line-height:1;
      color:rgba(184,148,85,.96);
      padding:0 10px;
    }
    .dateBottom{
      margin-top:10px;
      font-family:'Playfair Display',serif;
      letter-spacing:2px;
      color:rgba(6,31,20,.72);
    }
    .calRow{
      margin-top:20px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:center;
      color:rgba(6,31,20,.75);
      font-size:14px;
    }

    /* ============ CITA ============ */
    .quoteBox{
      margin:42px auto 0;
      width:min(720px, 94vw);
      padding:26px 22px;
      border-radius:18px;
      background:linear-gradient(180deg, rgba(210,180,122,.28), rgba(184,148,85,.22));
      border:1px solid rgba(184,148,85,.22);
      box-shadow:var(--soft);
      color:rgba(6,31,20,.88);
      text-align:left;
      line-height:1.7;
      text-align:center;
}

    
.quoteText{
  font-style: italic;
  font-size: clamp(16px, 1.4vw, 20px);
  line-height: 1.55;
  color: #2f3b37;
}
.quoteRef{
  margin-top: 10px;
  font-weight: 700;
  color: var(--gold);
  font-size: 15px;
}
/* ============ CEREMONIA / RECEPCIÓN ============ */
    .twoCols{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:26px;
      align-items:start;
      margin-top:40px;
    }
    .eventCard{
      background:rgba(231,242,236,.88);
      border:1px solid rgba(184,148,85,.18);
      border-radius:18px;
      padding:26px 18px 24px;
      box-shadow:var(--soft);
    }
    .eventIcon{
      width:62px;height:62px;margin:0 auto 10px;
      stroke:rgba(184,148,85,.95);
      fill:none;stroke-width:2;
    }
    .eventTitle{
      font-family:'Playfair Display',serif;
      font-size:22px;
      letter-spacing:1.8px;
      text-transform:uppercase;
      color:rgba(6,31,20,.88);
    }
    .eventPlace{
      margin-top:10px;
      color:rgba(184,148,85,.98);
      font-weight:600;
    }
    .eventMeta{
      margin-top:14px;
      color:rgba(6,31,20,.72);
      line-height:1.7;
      font-size:14px;
    }
    .eventBtnRow{margin-top:18px}

    /* ============ GALERÍA MOSAICO ============ */
    .galleryGrid{
      margin-top:34px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:16px;
    }
    .ph{
      border-radius:18px;
      overflow:hidden;
      box-shadow:var(--soft);
      border:1px solid rgba(6,31,20,.10);
      background:#0000;
      position:relative;
      min-height:180px;
    }
    .ph::before{
      content:"";
      position:absolute; inset:0;
      background-size:cover;
      background-position:center;
      filter:saturate(1.02);
      transform:scale(1.02);
    }
    /* col spans */
    .ph.a{grid-column:1 / span 5; grid-row:1 / span 2; min-height:420px;}
    .ph.b{grid-column:6 / span 4; grid-row:1 / span 1; min-height:200px;}
    .ph.c{grid-column:10 / span 3; grid-row:1 / span 1; min-height:200px;}
    .ph.d{grid-column:6 / span 4; grid-row:2 / span 1; min-height:200px;}
    .ph.e{grid-column:10 / span 3; grid-row:2 / span 2; min-height:420px;}
    .ph.f{grid-column:6 / span 4; grid-row:3 / span 1; min-height:200px;}
    .ph.g{grid-column:1 / span 5; grid-row:3 / span 1; min-height:200px;}

    .ph.a::before{background-image:url('https://images.unsplash.com/photo-1522673607200-164d1b6ce486?auto=format&fit=crop&w=1200&q=80');}
    .ph.b::before{background-image:url('assets/fotos/FOTO-14.jpg');}
    .ph.c::before{background-image:url('https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&w=1200&q=80');}
    .ph.d::before{background-image:url('https://images.unsplash.com/photo-1523437237164-d442d57cc3c9?auto=format&fit=crop&w=1200&q=80');}
    .ph.e::before{background-image:url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1200&q=80');}
    .ph.f::before{background-image:url('https://images.unsplash.com/photo-1521714161819-15534968fc5f?auto=format&fit=crop&w=1200&q=80');}
    .ph.g::before{background-image:url('https://images.unsplash.com/photo-1522673607200-164d1b6ce486?auto=format&fit=crop&w=1200&q=80'); opacity:.92;}

    /* ============ RSVP + VESTIMENTA + REGALOS ============ */
    .rsvpBanner{
      width:min(880px, 96vw);
      margin:0 auto;
      padding:28px 22px;
      border-radius:18px;
      background:rgba(210,180,122,.22);
      border:1px solid rgba(184,148,85,.22);
      box-shadow:var(--soft);
      color:rgba(6,31,20,.82);
    }
    .rsvpBanner p{line-height:1.5}
    .rsvpBanner .btn{margin-top:16px}

    .split2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:26px;
      align-items:start;
      margin-top:46px;
    }
    .infoBlock{
      padding:18px 10px 10px;
      text-align:center;
    }
    .infoIcon{
      width:70px;height:70px;margin:0 auto 10px;
      stroke:rgba(184,148,85,.95);
      fill:none;stroke-width:2;
    }
    .infoTitle{
      font-family:'Playfair Display',serif;
      letter-spacing:2px;
      text-transform:uppercase;
      font-size:20px;
      color:rgba(6,31,20,.86);
    }
    .infoText{
      margin-top:12px;
      color:rgba(6,31,20,.72);
      line-height:1.65;
      max-width:420px;
      margin-left:auto;margin-right:auto;
    }

    /* modal opciones regalo */
    .modal{
      position:fixed; inset:0;
      background:rgba(0,0,0,.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:99999;
    }
    .modal.show{display:flex}
    .modalCard{
      width:min(720px, 96vw);
      background:rgba(231,242,236,.98);
      color:var(--ink);
      border-radius:18px;
      box-shadow:var(--shadow);
      padding:22px 18px 18px;
      text-align:left;
    }
    .modalHead{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding-bottom:10px;border-bottom:1px solid rgba(6,31,20,.10);
    }
    .modalTitle{font-family:'Playfair Display',serif;font-size:22px}
    .xBtn{
      border:none;background:transparent;font-size:28px;cursor:pointer;color:rgba(6,31,20,.55);
      line-height:1;padding:0 8px;
    }
    .optList{margin-top:14px;line-height:1.75}
    .optHint{margin-top:10px;font-size:13px;color:rgba(6,31,20,.70)}

    /* ============ MENSAJE A LOS NOVIOS ============ */
    .msgHead{
      color:rgba(184,148,85,.92);
      letter-spacing:.6px;
      font-size:16px;
    }
    .msgTitle{
      margin-top:10px;
      font-size:26px;
      letter-spacing:2px;
      text-transform:uppercase;
      color:rgba(6,31,20,.86);
    }
    .msgSub{
      margin-top:12px;
      color:rgba(6,31,20,.70);
      line-height:1.6;
      max-width:760px;
      margin-left:auto;margin-right:auto;
    }

    .formWrap{
      margin:30px auto 0;
      width:min(980px, 96vw);
      padding:0 10px;
    }
    .field{
      width:100%;
      border:1px solid rgba(6,31,20,.12);
      background:rgba(215,235,225,.15);
      border-radius:10px;
      padding:14px 14px;
      font-size:14px;
      color:var(--ink);
      outline:none;
      display:block;
    }
    textarea.field{min-height:140px;resize:vertical}
    .fieldRow{margin-top:14px}
    .captchaRow{
      margin-top:14px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:flex-end;
      flex-wrap:wrap;
      color:rgba(6,31,20,.70);
      font-size:14px;
    }
    .captchaInput{
      width:90px;
      text-align:center;
      padding:12px 10px;
      border-radius:10px;
      border:1px solid rgba(6,31,20,.14);
      background:rgba(231,242,236,.9);
    }
    .sendRow{
      margin-top:12px;
      display:flex;
      justify-content:flex-end;
    }
    .statusMsg{margin-top:12px;min-height:22px;color:rgba(6,31,20,.78)}

    /* ============ FOOTER ============ */
    footer{
      padding:40px 0;
      background:rgba(4,26,17,.94);
      font-size:14px;
      letter-spacing:1px;
      color:#eef6f1;
    }

    /* ============ MODO OSCURO (toggle visual) ============ */
    .modeToggle{
      position:fixed;
      right:18px;
      bottom:18px;
      width:56px;height:28px;
      border-radius:999px;
      background:rgba(231,242,236,.92);
      border:1px solid rgba(6,31,20,.10);
      box-shadow:0 10px 18px rgba(0,0,0,.14);
      display:flex;
      align-items:center;
      padding:3px;
      cursor:pointer;
      z-index:9999;
    }
    .modeKnob{
      width:22px;height:22px;border-radius:999px;
      background:linear-gradient(180deg, var(--gold2), var(--gold));
      transform:translateX(0);
      transition:transform .22s ease;
    }
    body.light{
      background:linear-gradient(180deg, var(--paper3), var(--paper2));
      color:var(--ink);
    }
    body.light .modeKnob{transform:translateX(28px)}
    body.light .modeToggle{background:rgba(4,26,17,.10)}
    body.light .hero{color:var(--ink)}

    /* ============ RESPONSIVE ============ */
    @media (max-width: 960px){
      .hero-grid{grid-template-columns:1fr;gap:28px}
      .hero-left{text-align:center}
      .countBox{margin-left:auto;margin-right:auto}
      .hex{width:min(420px, 92vw)}
      .parentsGrid{grid-template-columns:1fr auto 1fr;gap:10px;align-items:start}
      .parentsGrid .and{display:flex;align-items:center;justify-content:center;padding-top:0;font-size:22px}
      .parentsCol{font-size:14px;letter-spacing:1px}
      .parentRole{font-size:11px}
      .parentName{font-size:18px}
      .twoCols{grid-template-columns:1fr}
      .split2{grid-template-columns:1fr}
      .galleryGrid{grid-template-columns:repeat(6, 1fr)}
      .ph.a{grid-column:1 / span 6; grid-row:auto; min-height:320px}
      .ph.b,.ph.c,.ph.d,.ph.f,.ph.g{grid-column:1 / span 6; min-height:220px}
      .ph.e{grid-column:1 / span 6; min-height:320px}
    }
    @media (max-width:520px){
      .gate-card{padding:34px 16px 28px}
      .gate-names{font-size:42px}
      .heroTitle{font-size:52px}
      .dateMid{font-size:64px}
      .countNums{grid-template-columns:repeat(2,1fr)}
    }
  
    /* ===========================
       MICRO-ANIMACIONES PREMIUM
       =========================== */
    .env-wrap{
      will-change: transform, filter;
    }
    .env-svg{
      transition: transform .25s ease, filter .25s ease;
      transform-origin: 50% 60%;
    }
    .env-wrap:hover .env-svg{
      transform: translateY(-3px) rotate(-0.6deg);
      filter: drop-shadow(0 18px 24px rgba(0,0,0,.14));
    }
    .env-wrap:active .env-svg{
      transform: translateY(-1px) scale(.995);
    }
    /* brillo suave encima del sobre */
    .env-wrap::after{
      content:"";
      position:absolute;
      inset: 0;
      border-radius:18px;
      background: radial-gradient(320px 120px at 35% 28%, rgba(255,255,255,.18), transparent 62%);
      opacity:.0;
      transition: opacity .25s ease;
      pointer-events:none;
    }
    .env-wrap:hover::after{opacity:.85}

    /* solapa con perspectiva 3D real */
    .flap{
      transform-style: preserve-3d;
      backface-visibility: hidden;
    }
    .open .flap{
      transform: rotateX(165deg);
    }

    /* Carta (más “premium” cuando abre) */
    .open .env-shadow{
      background:radial-gradient(closest-side, rgba(0,0,0,.26), transparent 72%);
    }

    /* Hex foto: más elegante + flotación */
    @keyframes floaty{
      0%,100%{ transform: translateY(0) rotate(-10deg); }
      50%{ transform: translateY(-6px) rotate(-10deg); }
    }
    .hex::before{
      z-index:0;
      background: rgba(200,227,215,.15);
      border:1px solid rgba(184,148,85,.38);
    }
    .hex::after{
      z-index:2;
      background: rgba(231,242,236,.15);
      border:2px solid rgba(184,148,85,.40);
      box-shadow: 0 18px 40px rgba(0,0,0,.18);
    }
    .hexImg{
      z-index:1;
      box-shadow: inset 0 0 0 1px rgba(6,31,20,.08);
    }
    .hex{
      animation: floaty 5.6s ease-in-out infinite;
    }

    /* Reveal suave al hacer scroll */
    .reveal{opacity:1 !important; transform:none !important;}
    /* Animación suave opcional (no oculta contenido) */
    .reveal.in{opacity:1; transform:none;}


    /* ===========================
       ITINERARIO (V6)
       =========================== */
    .itinerary{
      max-width: min(900px, 92vw);
      margin: 0 auto;
    }
    .itHeader{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      margin-bottom: 26px;
    }
    .itTitle{
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      letter-spacing: .16em;
      text-transform: uppercase;
      font-size: clamp(26px, 3.4vw, 40px);
      color: var(--ink);
      margin: 0;
    }
    .itSub{
      color: var(--muted);
      font-size: 14px;
      letter-spacing: .06em;
      margin: 0;
    }
    .timeline{
      position: relative;
      display: grid;
      gap: 18px;
      padding: 8px 0 10px;
    }
    .timeline::before{
      content:"";
      position:absolute;
      left: 40px;
      top: 8px;
      bottom: 8px;
      width: 2px;
      background: linear-gradient(180deg, rgba(184,148,85,.0), rgba(184,148,85,.55), rgba(184,148,85,.0));
    }
    .tItem{
      position: relative;
      display:grid;
      grid-template-columns: 86px 1fr;
      align-items:center;
      gap: 16px;
      padding: 14px 16px 14px 0;
      border-radius: 18px;
      background: rgba(231,242,236,.62);
      border: 1px solid rgba(6,31,20,.08);
      box-shadow: 0 10px 22px rgba(0,0,0,.06);
      overflow:hidden;
    }
    .tItem::after{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(420px 160px at 10% 10%, rgba(44,195,138,.10), transparent 60%);
      pointer-events:none;
    }
    .tIconWrap{
      position: relative;
      display:flex;
      align-items:center;
      justify-content:center;
      height: 62px;
      width: 62px;
      margin-left: 10px;
      border-radius: 999px;
      background: rgba(212,234,223,.85);
      border: 1px solid rgba(184,148,85,.22);
      box-shadow: 0 10px 18px rgba(0,0,0,.08);
    }
    .tDot{
      position:absolute;
      left: 39px;
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: var(--gold);
      box-shadow: 0 0 0 6px rgba(184,148,85,.16);
      z-index: 2;
    }
    .tText{
      position: relative;
      z-index: 1;
      text-align: left;
      padding-right: 8px;
    }
    .tTime{
      font-weight: 700;
      color: var(--ink);
      font-size: 15px;
      letter-spacing: .02em;
      margin: 0 0 4px 0;
    }
    .tDesc{
      margin: 0;
      color: #163c2a;
      font-size: 15px;
      line-height: 1.35;
    }
    .tIcon{
      width: 30px;
      height: 30px;
      stroke: rgba(6,31,20,.78);
      stroke-width: 1.8;
      fill: none;
    }
    @media (max-width: 520px){
  body{overflow-x:hidden;}
  .container{width:min(1100px, 92vw);} 
  .btn, button{width:100%; max-width: 360px;}
  .btn{justify-content:center;}
  .formActions{justify-content:center !important;}
  .rsvpChoice{flex-direction:column !important; align-items:center;}
  .giftRow{grid-template-columns:1fr !important; gap:20px !important;}
  .dressRow{grid-template-columns:1fr !important; gap:20px !important;}

      .timeline::before{ left: 34px; }
      .tItem{ grid-template-columns: 76px 1fr; }
      .tIconWrap{ width: 56px; height: 56px; }
      .tDot{ left: 33px; }
      .tDesc{ font-size: 14px; }
    }


  /* === Música: estado del botón === */
  #musicBtn, .music-btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    transition: transform .18s ease, filter .18s ease, box-shadow .22s ease, background .22s ease;
    will-change: transform;
  }
  #musicBtn:active, .music-btn:active{ transform: scale(.98); }
  #musicBtn.music-playing{
    filter: brightness(1.03);
    box-shadow: 0 14px 28px rgba(0,0,0,.18);
  }
  #musicBtn .eq{
    width:14px;height:14px;display:none;position:relative;
  }
  #musicBtn.music-playing .eq{ display:inline-block; }
  #musicBtn .eq i{
    position:absolute; bottom:0; width:3px; border-radius:3px;
    background: rgba(11,43,27,.75);
    animation: eq 720ms ease-in-out infinite;
  }
  #musicBtn .eq i:nth-child(1){ left:0; height:9px; animation-delay:0ms; }
  #musicBtn .eq i:nth-child(2){ left:5px; height:13px; animation-delay:120ms; }
  #musicBtn .eq i:nth-child(3){ left:10px; height:7px; animation-delay:240ms; }

  @keyframes eq{
    0%,100%{ transform: scaleY(.55); opacity:.8; }
    50%{ transform: scaleY(1.15); opacity:1; }
  }


  /* ===== Galería (fotos reales) ===== */
  .galleryGrid{
    display:grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 14px;
    margin-top: 18px;
  }
  .gItem{
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 10px 26px rgba(0,0,0,.10);
    background: #fff;
    min-height: 180px;
  }
  .gItem img{
    width:100%;
    height:100%;
    object-fit: cover;
    display:block;
  }
  /* layout tipo collage suave */
  .gItem.a{grid-column: span 5; grid-row: span 2; min-height: 320px;}
  .gItem.b{grid-column: span 4; grid-row: span 2; min-height: 320px;}
  .gItem.c{grid-column: span 3; grid-row: span 1; min-height: 220px;}
  .gItem.d{grid-column: span 3; grid-row: span 1; min-height: 220px;}
  .gItem.e{grid-column: span 6; grid-row: span 2; min-height: 360px;}
  .gItem.f{grid-column: span 6; grid-row: span 2; min-height: 360px;}
  .gItem.g{grid-column: span 4; grid-row: span 1; min-height: 240px;}
  .gItem.h{grid-column: span 4; grid-row: span 1; min-height: 240px;}
  .gItem.i{grid-column: span 4; grid-row: span 1; min-height: 240px;}
  .gItem.j{grid-column: span 6; grid-row: span 2; min-height: 340px;}
  .gItem.k{grid-column: span 6; grid-row: span 2; min-height: 340px;}
  .gItem.l{grid-column: span 6; grid-row: span 2; min-height: 340px;}
  .gItem.m{grid-column: span 6; grid-row: span 2; min-height: 340px;}

  @media (max-width: 900px){
    .galleryGrid{grid-template-columns: repeat(6, 1fr);}
    .gItem.a,.gItem.b{grid-column: span 6;}
    .gItem.c,.gItem.d,.gItem.g,.gItem.h,.gItem.i{grid-column: span 3;}
  }
  @media (max-width: 560px){
    .galleryGrid{grid-template-columns: repeat(2, 1fr); gap: 10px;}
    .gItem{grid-column: span 2 !important; min-height: 220px;}
  }

  .formActions{
    display:flex;
    justify-content:flex-end;
    margin-top: 12px;
  }


  /* Bloquea scroll mientras está la portada (evita saltos en móvil) */
  body.gate-open{overflow:hidden; height:100vh;}
  /* Transiciones un poco más suaves */
  .gate{transition:opacity 550ms ease;}
  

    /* === FIX: Click/Tap fiable para abrir el sobre === */
    #envWrap, #envelopeWrap{
      position:relative;
      z-index: 999999;
      pointer-events:auto;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    #envWrap .env-svg, #envWrap .env-svg *,
    #envelopeWrap .env-svg, #envelopeWrap .env-svg *{
      pointer-events:none;
    }
    #envWrap #envelope, #envWrap #envelope *,
    #envelopeWrap #envelope, #envelopeWrap #envelope *{
      pointer-events:none;
    }


    /* ========== V8.6: Centrado perfecto de Padres (&) ========== */
    .parentsGrid{
      max-width: min(980px, 92vw);
      margin-left:auto;
      margin-right:auto;
      column-gap: 56px;
      align-items: center; /* centra el & respecto a ambos bloques */
      justify-items: center;
    }
    .parentsGrid .and{
      padding-top: 0 !important;
      font-size: 42px;
      line-height: 1;
      align-self: center;
      justify-self: center;
    }

    @media (max-width: 720px){
      .parentsGrid{
        grid-template-columns: 1fr;
        gap: 14px;
        text-align:center;
      }
      .parentsGrid .and{
        grid-column: 1;
        font-size: 34px;
        margin: 2px 0 6px;
      }
      .parentsCol{justify-self:center;}
    }



/* RSVP choice (Sí / No) */
.rsvpChoice{
  display:flex;
  gap:12px;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;
  margin: 18px 0 10px;
}
.choiceBtn{
  appearance:none;
  border:1px solid rgba(160,140,90,.55);
  background: rgba(255,255,255,.55);
  color: var(--ink);
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 700;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
}
.choiceBtn:hover{ transform: translateY(-1px); box-shadow: 0 10px 18px rgba(0,0,0,.10); }
.choiceBtn.is-active{
  background: var(--gold);
  border-color: rgba(160,140,90,.75);
  color: #111;
}

/* --- Regalos modal (cuentas) --- */
.optList{display:grid;gap:12px;margin-top:14px}
.optItem{
  width:100%;
  text-align:left;
  border:1px solid rgba(140,120,70,.25);
  background:rgba(255,255,255,.55);
  border-radius:18px;
  padding:14px 14px;
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.optItem:hover{box-shadow:0 10px 24px rgba(0,0,0,.08); background:rgba(255,255,255,.7)}
.optItem:active{transform:scale(.99)}
.optLabel{font-weight:600;color:#233;line-height:1.2;margin-bottom:6px}
.optValue{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  letter-spacing:.6px; color:#2d2d2d; font-size:14px}
.copyToast{
  position:absolute; right:18px; bottom:18px;
  background:#2a3a33; color:#fff;
  padding:10px 12px; border-radius:14px;
  box-shadow:0 12px 30px rgba(0,0,0,.18);
  opacity:0; transform:translateY(6px);
  pointer-events:none;
  transition:opacity .18s ease, transform .18s ease;
  font-size:14px;
}
.copyToast.show{opacity:1; transform:translateY(0)}
body.modal-open{overflow:hidden}
.modal.is-open{display:flex}


/* ===========================
   v9.4 — Modal regalos (polish)
   =========================== */
.modal{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none;
  place-items: center;
  padding: 18px;
}
.modal.is-open{ display: grid; }

.modal__overlay{
  position: absolute;
  inset: 0;
  background: rgba(14, 20, 17, 0.55);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.modal__content{
  position: relative;
  width: min(860px, 96vw);
  max-height: min(86vh, 820px);
  overflow: auto;
  border-radius: 22px;
  background: linear-gradient(180deg, rgba(255,255,255,0.94), rgba(244, 251, 246, 0.96));
  border: 1px solid rgba(176, 132, 72, 0.28);
  box-shadow: 0 28px 80px rgba(0,0,0,0.35);
  padding: 26px 26px 22px;
}

.modal__head{
  text-align: center;
  padding: 6px 56px 10px;
}
.modal__title{
  margin: 0;
  font-size: clamp(22px, 2.6vw, 34px);
  letter-spacing: 0.02em;
}
.modal__subtitle{
  margin: 8px auto 0;
  max-width: 58ch;
  color: rgba(0,0,0,0.65);
  line-height: 1.45;
}

.modal__close{
  position: absolute;
  top: 14px;
  right: 14px;
  width: 42px;
  height: 42px;
  border-radius: 999px;
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(176, 132, 72, 0.35);
  display: grid;
  place-items: center;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
  box-shadow: 0 10px 24px rgba(0,0,0,0.15);
}
.modal__close:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.98);
}
.modal__close:active{ transform: translateY(0px) scale(0.98); }

.optList{
  display: grid;
  gap: 14px;
  margin-top: 18px;
}
.optItem{
  width: 100%;
  text-align: left;
  border-radius: 18px;
  padding: 14px 16px;
  background: rgba(255,255,255,0.75);
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 10px 22px rgba(0,0,0,0.08);
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 10px 14px;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.optItem:hover{
  transform: translateY(-1px);
  box-shadow: 0 16px 34px rgba(0,0,0,0.12);
  border-color: rgba(176, 132, 72, 0.22);
}
.optItem:active{ transform: translateY(0px) scale(0.995); }

.optLabel{
  font-weight: 600;
  color: rgba(0,0,0,0.78);
}
.optValue{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-weight: 700;
  letter-spacing: 0.03em;
  background: rgba(176, 132, 72, 0.10);
  border: 1px dashed rgba(176, 132, 72, 0.45);
  color: rgba(0,0,0,0.72);
  padding: 10px 12px;
  border-radius: 14px;
  white-space: nowrap;
}
.optHint{
  grid-column: 1 / -1;
  font-size: 13px;
  color: rgba(0,0,0,0.52);
  margin-top: -4px;
}

.copyToast{
  position: fixed;
  left: 50%;
  bottom: 22px;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(176, 132, 72, 0.30);
  box-shadow: 0 18px 40px rgba(0,0,0,0.18);
  color: rgba(0,0,0,0.72);
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 600;
}

@media (max-width: 640px){
  .modal{ padding: 12px; }
  .modal__content{
    width: 100%;
    max-height: 88vh;
    padding: 18px 16px 16px;
    border-radius: 20px;
  }
  .modal__head{ padding: 4px 52px 8px; }
  .optItem{
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .optValue{ width: fit-content; }
}


/* =========================
   v9.5 — Responsive polish + florales en esquinas
   ========================= */
html{-webkit-text-size-adjust:100%;}
body{overflow-x:hidden;}
img{max-width:100%;height:auto;}
/* Contenedores más consistentes */
.container{width:min(1100px, 92vw); margin-inline:auto;}
.section{scroll-margin-top:90px;}
h1,h2,h3{text-wrap:balance;}
p{text-wrap:pretty;}


/* Florales premium (tulipanes + hortensias) en 4 esquinas por sección */
.section{
  position: relative;
  overflow: hidden;
}
.section::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background-image:
    url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22260%22%20height%3D%22260%22%20viewBox%3D%220%200%20260%20260%22%3E%3Cdefs%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22petal%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23f7e9ea%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23f1d7d9%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22leaf%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23d8efe2%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%239ec8b1%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22hyd%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23eef6f3%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23cfe5dd%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3Cfilter%20id%3D%22soft%22%20x%3D%22-20%25%22%20y%3D%22-20%25%22%20width%3D%22140%25%22%20height%3D%22140%25%22%3E%0A%20%20%20%20%20%20%3CfeGaussianBlur%20stdDeviation%3D%220.7%22/%3E%0A%20%20%20%20%3C/filter%3E%0A%20%20%3C/defs%3E%0A%20%20%3Cpath%20d%3D%22M18%2088c34-42%2078-48%20112-30-22%2010-36%2024-46%2044-20%2038-44%2054-66%2056%208-18%200-44%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.55%22/%3E%0A%20%20%3Cpath%20d%3D%22M84%2022c22%2026%2028%2058%2010%2090-10%2018-28%2034-54%2044%204-28%2018-54%2044-78z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.42%22/%3E%0A%20%20%3Cpath%20d%3D%22M10%20154c28-22%2058-24%2090-10-26%2010-42%2024-54%2044-10%2018-22%2030-36%2036%200-24-4-48%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.30%22/%3E%0A%0A%20%20%3Cg%20opacity%3D%22.72%22%20filter%3D%22url%28%23soft%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2298%22%20cy%3D%2298%22%20r%3D%2218%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22120%22%20cy%3D%2284%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22122%22%20cy%3D%22110%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22104%22%20cy%3D%22122%22%20r%3D%2215%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22140%22%20cy%3D%2298%22%20r%3D%2214%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.90%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M48%20120c8-18%2022-28%2040-30-2%2022-10%2036-26%2044-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M142%20124c8-16%2022-26%2040-28-2%2020-10%2034-26%2042-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22%20opacity%3D%22.95%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.70%22%20transform%3D%22translate%280%2C6%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2262%22%20cy%3D%2262%22%20r%3D%2220%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M62%2044c10%202%2016%2010%2014%2018-2%208-10%2014-18%2012-8-2-14-10-12-18%202-8%208-14%2016-12z%22%20fill%3D%22%23f6dfe0%22%20opacity%3D%22.85%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M54%2058c4-8%2010-10%2016-8-2%206-6%2012-12%2014-4%202-6%200-4-6z%22%20fill%3D%22%23f1c9cb%22%20opacity%3D%22.55%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cpath%20d%3D%22M26%20232c18-44%2036-70%2064-92%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.55%22%20fill%3D%22none%22/%3E%0A%20%20%3Cpath%20d%3D%22M86%20238c16-44%2038-76%2078-108%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.45%22%20fill%3D%22none%22/%3E%0A%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22260%22%20height%3D%22260%22%20viewBox%3D%220%200%20260%20260%22%3E%3Cg%20transform%3D%22translate%28260%2C0%29%20scale%28-1%2C1%29%22%3E%3Cdefs%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22petal%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23f7e9ea%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23f1d7d9%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22leaf%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23d8efe2%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%239ec8b1%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22hyd%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23eef6f3%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23cfe5dd%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3Cfilter%20id%3D%22soft%22%20x%3D%22-20%25%22%20y%3D%22-20%25%22%20width%3D%22140%25%22%20height%3D%22140%25%22%3E%0A%20%20%20%20%20%20%3CfeGaussianBlur%20stdDeviation%3D%220.7%22/%3E%0A%20%20%20%20%3C/filter%3E%0A%20%20%3C/defs%3E%0A%20%20%3Cpath%20d%3D%22M18%2088c34-42%2078-48%20112-30-22%2010-36%2024-46%2044-20%2038-44%2054-66%2056%208-18%200-44%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.55%22/%3E%0A%20%20%3Cpath%20d%3D%22M84%2022c22%2026%2028%2058%2010%2090-10%2018-28%2034-54%2044%204-28%2018-54%2044-78z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.42%22/%3E%0A%20%20%3Cpath%20d%3D%22M10%20154c28-22%2058-24%2090-10-26%2010-42%2024-54%2044-10%2018-22%2030-36%2036%200-24-4-48%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.30%22/%3E%0A%0A%20%20%3Cg%20opacity%3D%22.72%22%20filter%3D%22url%28%23soft%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2298%22%20cy%3D%2298%22%20r%3D%2218%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22120%22%20cy%3D%2284%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22122%22%20cy%3D%22110%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22104%22%20cy%3D%22122%22%20r%3D%2215%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22140%22%20cy%3D%2298%22%20r%3D%2214%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.90%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M48%20120c8-18%2022-28%2040-30-2%2022-10%2036-26%2044-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M142%20124c8-16%2022-26%2040-28-2%2020-10%2034-26%2042-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22%20opacity%3D%22.95%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.70%22%20transform%3D%22translate%280%2C6%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2262%22%20cy%3D%2262%22%20r%3D%2220%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M62%2044c10%202%2016%2010%2014%2018-2%208-10%2014-18%2012-8-2-14-10-12-18%202-8%208-14%2016-12z%22%20fill%3D%22%23f6dfe0%22%20opacity%3D%22.85%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M54%2058c4-8%2010-10%2016-8-2%206-6%2012-12%2014-4%202-6%200-4-6z%22%20fill%3D%22%23f1c9cb%22%20opacity%3D%22.55%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cpath%20d%3D%22M26%20232c18-44%2036-70%2064-92%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.55%22%20fill%3D%22none%22/%3E%0A%20%20%3Cpath%20d%3D%22M86%20238c16-44%2038-76%2078-108%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.45%22%20fill%3D%22none%22/%3E%0A%3C/g%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22260%22%20height%3D%22260%22%20viewBox%3D%220%200%20260%20260%22%3E%3Cg%20transform%3D%22translate%280%2C260%29%20scale%281%2C-1%29%22%3E%3Cdefs%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22petal%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23f7e9ea%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23f1d7d9%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22leaf%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23d8efe2%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%239ec8b1%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22hyd%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23eef6f3%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23cfe5dd%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3Cfilter%20id%3D%22soft%22%20x%3D%22-20%25%22%20y%3D%22-20%25%22%20width%3D%22140%25%22%20height%3D%22140%25%22%3E%0A%20%20%20%20%20%20%3CfeGaussianBlur%20stdDeviation%3D%220.7%22/%3E%0A%20%20%20%20%3C/filter%3E%0A%20%20%3C/defs%3E%0A%20%20%3Cpath%20d%3D%22M18%2088c34-42%2078-48%20112-30-22%2010-36%2024-46%2044-20%2038-44%2054-66%2056%208-18%200-44%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.55%22/%3E%0A%20%20%3Cpath%20d%3D%22M84%2022c22%2026%2028%2058%2010%2090-10%2018-28%2034-54%2044%204-28%2018-54%2044-78z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.42%22/%3E%0A%20%20%3Cpath%20d%3D%22M10%20154c28-22%2058-24%2090-10-26%2010-42%2024-54%2044-10%2018-22%2030-36%2036%200-24-4-48%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.30%22/%3E%0A%0A%20%20%3Cg%20opacity%3D%22.72%22%20filter%3D%22url%28%23soft%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2298%22%20cy%3D%2298%22%20r%3D%2218%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22120%22%20cy%3D%2284%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22122%22%20cy%3D%22110%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22104%22%20cy%3D%22122%22%20r%3D%2215%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22140%22%20cy%3D%2298%22%20r%3D%2214%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.90%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M48%20120c8-18%2022-28%2040-30-2%2022-10%2036-26%2044-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M142%20124c8-16%2022-26%2040-28-2%2020-10%2034-26%2042-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22%20opacity%3D%22.95%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.70%22%20transform%3D%22translate%280%2C6%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2262%22%20cy%3D%2262%22%20r%3D%2220%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M62%2044c10%202%2016%2010%2014%2018-2%208-10%2014-18%2012-8-2-14-10-12-18%202-8%208-14%2016-12z%22%20fill%3D%22%23f6dfe0%22%20opacity%3D%22.85%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M54%2058c4-8%2010-10%2016-8-2%206-6%2012-12%2014-4%202-6%200-4-6z%22%20fill%3D%22%23f1c9cb%22%20opacity%3D%22.55%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cpath%20d%3D%22M26%20232c18-44%2036-70%2064-92%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.55%22%20fill%3D%22none%22/%3E%0A%20%20%3Cpath%20d%3D%22M86%20238c16-44%2038-76%2078-108%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.45%22%20fill%3D%22none%22/%3E%0A%3C/g%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22260%22%20height%3D%22260%22%20viewBox%3D%220%200%20260%20260%22%3E%3Cg%20transform%3D%22translate%28260%2C260%29%20scale%28-1%2C-1%29%22%3E%3Cdefs%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22petal%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23f7e9ea%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23f1d7d9%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22leaf%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%220%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23d8efe2%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%239ec8b1%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22hyd%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%221%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23eef6f3%22/%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23cfe5dd%22/%3E%0A%20%20%20%20%3C/linearGradient%3E%0A%20%20%20%20%3Cfilter%20id%3D%22soft%22%20x%3D%22-20%25%22%20y%3D%22-20%25%22%20width%3D%22140%25%22%20height%3D%22140%25%22%3E%0A%20%20%20%20%20%20%3CfeGaussianBlur%20stdDeviation%3D%220.7%22/%3E%0A%20%20%20%20%3C/filter%3E%0A%20%20%3C/defs%3E%0A%20%20%3Cpath%20d%3D%22M18%2088c34-42%2078-48%20112-30-22%2010-36%2024-46%2044-20%2038-44%2054-66%2056%208-18%200-44%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.55%22/%3E%0A%20%20%3Cpath%20d%3D%22M84%2022c22%2026%2028%2058%2010%2090-10%2018-28%2034-54%2044%204-28%2018-54%2044-78z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.42%22/%3E%0A%20%20%3Cpath%20d%3D%22M10%20154c28-22%2058-24%2090-10-26%2010-42%2024-54%2044-10%2018-22%2030-36%2036%200-24-4-48%200-70z%22%20fill%3D%22url%28%23leaf%29%22%20opacity%3D%22.30%22/%3E%0A%0A%20%20%3Cg%20opacity%3D%22.72%22%20filter%3D%22url%28%23soft%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2298%22%20cy%3D%2298%22%20r%3D%2218%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22120%22%20cy%3D%2284%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22122%22%20cy%3D%22110%22%20r%3D%2216%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22104%22%20cy%3D%22122%22%20r%3D%2215%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%20%20%3Ccircle%20cx%3D%22140%22%20cy%3D%2298%22%20r%3D%2214%22%20fill%3D%22url%28%23hyd%29%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.90%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M48%20120c8-18%2022-28%2040-30-2%2022-10%2036-26%2044-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M142%20124c8-16%2022-26%2040-28-2%2020-10%2034-26%2042-10%206-18%206-24-2%204-4%206-8%2010-12z%22%20fill%3D%22url%28%23petal%29%22%20opacity%3D%22.95%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cg%20opacity%3D%22.70%22%20transform%3D%22translate%280%2C6%29%22%3E%0A%20%20%20%20%3Ccircle%20cx%3D%2262%22%20cy%3D%2262%22%20r%3D%2220%22%20fill%3D%22url%28%23petal%29%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M62%2044c10%202%2016%2010%2014%2018-2%208-10%2014-18%2012-8-2-14-10-12-18%202-8%208-14%2016-12z%22%20fill%3D%22%23f6dfe0%22%20opacity%3D%22.85%22/%3E%0A%20%20%20%20%3Cpath%20d%3D%22M54%2058c4-8%2010-10%2016-8-2%206-6%2012-12%2014-4%202-6%200-4-6z%22%20fill%3D%22%23f1c9cb%22%20opacity%3D%22.55%22/%3E%0A%20%20%3C/g%3E%0A%0A%20%20%3Cpath%20d%3D%22M26%20232c18-44%2036-70%2064-92%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.55%22%20fill%3D%22none%22/%3E%0A%20%20%3Cpath%20d%3D%22M86%20238c16-44%2038-76%2078-108%22%20stroke%3D%22%239ec8b1%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20opacity%3D%22.45%22%20fill%3D%22none%22/%3E%0A%3C/g%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:
    left -18px top -18px,
    right -18px top -18px,
    left -18px bottom -18px,
    right -18px bottom -18px;
  background-size: 180px 180px;
  opacity:.60;
}
.section > *{position:relative; z-index:1;}

/* Ajustes móviles: evita textos “salidos” */

@media (max-width: 520px){
  body{overflow-x:hidden;}
  .container{width:min(1100px, 92vw);} 
  .btn, button{width:100%; max-width: 360px;}
  .btn{justify-content:center;}
  .formActions{justify-content:center !important;}
  .rsvpChoice{flex-direction:column !important; align-items:center;}
  .giftRow{grid-template-columns:1fr !important; gap:20px !important;}
  .dressRow{grid-template-columns:1fr !important; gap:20px !important;}

  .twoCol{grid-template-columns:1fr !important; gap:16px !important;}
  .heroGrid{grid-template-columns:1fr !important;}
  .heroHex{margin-inline:auto;}
  .btn, button{max-width:100%;}
  .giftModalOverlay{padding:16px !important;}
  .giftModalCard{border-radius:18px !important;}
}



@media (max-width: 520px) {
  .btn, button, .whats-btn {
    width: min(340px, 92vw) !important;
    max-width: 92vw !important;
  }
  .grid2, .twoCols, .parentsGrid {
    grid-template-columns: 1fr !important;
  }
  .modal-card {
    width: min(520px, 94vw);
  }
}

/* Prevent fixed-position elements from drifting in in-app browsers */
@supports (-webkit-touch-callout: none) {
  body { overscroll-behavior-y: none; }
}


/* ===== WEBAPP RESPONSIVE PATCH (v9.6.3) ===== */
*, *::before, *::after { box-sizing: border-box; }
html, body { width: 100%; max-width: 100%; overflow-x: hidden; }
body { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
img, svg, video, canvas { max-width: 100%; height: auto; }
button, input, textarea, select { max-width: 100%; }
.section { position: relative; }
/* Keep inner content centered on any zoom level */
.container { width: min(var(--container), 100%); margin-inline: auto; }



/* Safe-area padding for iOS webviews */
:root{
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
}
body{
  padding-left: var(--safe-left);
  padding-right: var(--safe-right);
}
.container{
  padding-left: max(16px, var(--safe-left));
  padding-right: max(16px, var(--safe-right));
}
/* Make section backgrounds + floral always centered/clipped */
.section, .hero, .sobre, .pagina { overflow: hidden; }


/* ==== WebApp / Mobile hardening (v9.6.4) ==== */
html, body { width: 100%; max-width: 100%; overflow-x: hidden; }
*, *::before, *::after { box-sizing: border-box; }
img, svg, video { max-width: 100%; height: auto; }
.section, section { padding-left: max(16px, env(safe-area-inset-left)); padding-right: max(16px, env(safe-area-inset-right)); }
@media (max-width: 520px){
  .inv-card, .card, .panel, .ticket, .invite-ticket { width: 100% !important; max-width: 100% !important; }
  .btn, button { max-width: 100%; }
  .countdown-grid { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
  .countdown-box { min-width: 0 !important; }
  .rsvp-actions, .rsvp-buttons { flex-direction: column !important; gap: 12px !important; align-items: stretch !important; }
  .rsvp-actions button, .rsvp-buttons button { width: 100% !important; }
}

</style>
</head>

<body>

<audio id="bgMusic" preload="auto">
  <source src="CANCION.mp3" type="audio/mpeg">
</audio>

  <!-- Música (pon tu archivo musica.mp3 en el repo) -->
  <!-- ============ PORTADA / SOBRE ============ -->
  <div class="gate" id="gate" aria-label="Portada de invitación">
    <div class="gate-card" role="dialog" aria-modal="true">
      <div class="gate-names">Daniel <span class="amp">&</span> Ana Josse</div>
      <div class="divider"></div>

      <div class="guestLine" id="guestLine">INVITADO ESPECIAL</div>
      <div class="paxLine" id="paxLine">- 2 PERSONAS -</div>

      <div class="gate-hint">Haz clic en el sobre para abrir la invitación:</div>

      <div class="env-wrap" id="envWrap" tabindex="0" aria-label="Abrir invitación" role="button" tabindex="0" onclick="openInvitation()" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();openInvitation();}">
        <svg class="env-svg" viewBox="0 0 760 480" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Sobre">
          <defs>
            <linearGradient id="paperGrad" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#e7f2ec"/>
              <stop offset="1" stop-color="#d7ebe1"/>
            </linearGradient>
            <linearGradient id="paperGrad2" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0" stop-color="#edf7f2"/>
              <stop offset="1" stop-color="#cfe6db"/>
            </linearGradient>
            <linearGradient id="goldSeal" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#d2b47a"/>
              <stop offset="1" stop-color="#9f7c3d"/>
            </linearGradient>
            <filter id="softShadow" x="-20%" y="-20%" width="140%" height="160%">
              <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="#000" flood-opacity="0.12"/>
            </filter>
          </defs>

          <rect x="70" y="100" width="620" height="300" rx="28" fill="url(#paperGrad)" stroke="rgba(6,31,20,0.14)" stroke-width="2"/>
          <rect x="86" y="116" width="588" height="268" rx="24" fill="none" stroke="rgba(0,0,0,0.03)" stroke-width="6"/>

          <path d="M70 100 L380 280 L70 400 Z" fill="rgba(215,235,225,0.98)"/>
          <path d="M690 100 L380 280 L690 400 Z" fill="rgba(215,235,225,0.98)"/>
          <path d="M70 400 L380 245 L690 400 Z" fill="rgba(207,230,219,0.98)"/>

          <g class="flap" id="flap">
            <path d="M70 100 L380 280 L690 100 Z" fill="url(#paperGrad2)" filter="url(#softShadow)"/>
            <path d="M110 126 L380 265 L650 126" fill="none" stroke="rgba(0,0,0,0.06)" stroke-width="4" stroke-linecap="round"/>
          </g>

          <g>
            <circle cx="380" cy="290" r="56" fill="url(#goldSeal)"/>
            <circle cx="360" cy="270" r="24" fill="rgba(255,255,255,0.14)"/>
            <text x="380" y="304" text-anchor="middle" font-family="Playfair Display, serif" font-size="34" font-weight="700" fill="rgba(6,31,20,0.85)">D&amp;A</text>
          </g>
        </svg>

        <div class="env-shadow"></div>
      </div>

      <div class="gate-tip">IMPORTANTE: desactiva el modo oscuro del navegador y sube el volumen.</div>

      <!-- flor verde -->
      <svg class="gate-floral" viewBox="0 0 1000 260" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs>
          <linearGradient id="leaf" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="rgba(44,195,138,0.62)"/>
            <stop offset="1" stop-color="rgba(7,48,33,0.62)"/>
          </linearGradient>
          <linearGradient id="leaf2" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="rgba(44,195,138,0.34)"/>
            <stop offset="1" stop-color="rgba(7,48,33,0.34)"/>
          </linearGradient>
        </defs>
        <g transform="translate(70,46)">
          <path d="M120 170 C170 120, 250 120, 300 170 C250 220, 170 220, 120 170Z" fill="url(#leaf)"/>
          <path d="M250 180 C290 140, 350 140, 390 180 C350 220, 290 220, 250 180Z" fill="url(#leaf2)"/>
          <path d="M520 170 C570 120, 650 120, 700 170 C650 220, 570 220, 520 170Z" fill="url(#leaf)"/>
          <path d="M640 185 C680 150, 730 150, 770 185 C730 220, 680 220, 640 185Z" fill="url(#leaf2)"/>
          <circle cx="430" cy="190" r="10" fill="rgba(184,148,85,0.40)"/>
          <circle cx="460" cy="204" r="7" fill="rgba(184,148,85,0.30)"/>
          <circle cx="500" cy="192" r="8" fill="rgba(184,148,85,0.26)"/>
        </g>
      </svg>
    </div>
  </div>

  <!-- ============ HERO ============ -->
  <section class="hero" id="inicio">
    <div class="hero-grid">
      <div class="hero-left reveal">
        <div class="playRow">
          <span class="playLabel">Presiona Play/Pausa para escuchar nuestra canción:</span>
          <button id="musicBtn" class="music-btn" type="button" aria-label="Reproducir o pausar música"><span class="label">▶ Play</span></button>
        </div>

        <div class="heroTitle">
          Daniel<span class="heroAmp"> &amp; </span>Ana Josse
        </div>

        <!-- ornamento -->
        <svg class="ornament" viewBox="0 0 600 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M40 62 C130 20, 200 20, 300 62 C400 104, 470 104, 560 62" fill="none" stroke="rgba(184,148,85,.92)" stroke-width="6" stroke-linecap="round"/>
          <path d="M84 62 C100 44, 120 44, 136 62 C120 80, 100 80, 84 62Z" fill="rgba(184,148,85,.92)"/>
          <path d="M464 62 C480 44, 500 44, 516 62 C500 80, 480 80, 464 62Z" fill="rgba(184,148,85,.92)"/>
          <circle cx="300" cy="62" r="10" fill="rgba(184,148,85,.92)"/>
        </svg>

        <div class="countBox">
          <h3>Nos casamos en:</h3>
          <div class="countNums" id="countNums">
            <div class="countCell"><div class="countVal" id="cdDays">0</div><div class="countLab">Día(s)</div></div>
            <div class="countCell"><div class="countVal" id="cdHours">0</div><div class="countLab">Hora(s)</div></div>
            <div class="countCell"><div class="countVal" id="cdMins">0</div><div class="countLab">Minuto(s)</div></div>
            <div class="countCell"><div class="countVal" id="cdSecs">0</div><div class="countLab">Segundo(s)</div></div>
          </div>
          <div style="margin-top:14px;">
            <button class="btn small outline" type="button" onclick="document.getElementById('fecha').scrollIntoView({behavior:'smooth'});">Ver la invitación</button>
          </div>
        </div>
      </div>

      <div class="hero-right reveal">
        <div class="hex" aria-label="Foto (placeholder)">
          <div class="hexImg"></div>
          <svg class="hexDecor" viewBox="0 0 260 210" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M40 165 C55 120, 92 110, 130 140 C168 170, 205 170, 226 130 C210 190, 144 210, 110 198 C76 186, 56 182, 40 165Z"
                  fill="rgba(44,195,138,0.40)"/>
            <path d="M38 170 C70 200, 120 205, 170 190" fill="none" stroke="rgba(184,148,85,0.55)" stroke-width="4" stroke-linecap="round"/>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ FECHA / PADRES / CITA ============ -->
  <section class="section reveal paper-soft" id="fecha">
    <div class="container">
      <div class="parentsTop">Con la bendición de nuestros padres</div>

      <div class="parentsGrid" aria-label="Padres de los novios">
        <div class="parentsCol">
          <div class="parentItem">
            <div class="parentRole">PADRE DEL NOVIO</div>
            <div class="parentName">Víctor Peralta</div>
          </div>
          <div class="parentItem">
            <div class="parentRole">MADRE DEL NOVIO</div>
            <div class="parentName">Mercedes Castro</div>
          </div>
        </div>

        <div class="and">&amp;</div>

        <div class="parentsCol">
          <div class="parentItem">
            <div class="parentRole">PADRE DE LA NOVIA</div>
            <div class="parentName">Marco Machado</div>
          </div>
          <div class="parentItem">
            <div class="parentRole">MADRE DE LA NOVIA</div>
            <div class="parentName">Ana Cecilia Gómez</div>
          </div>
        </div>
      </div>

      <div class="dateIntro">Tenemos el honor de invitarlos a nuestra boda el día:</div>

      <!-- 28 / Marzo / 2026 / 5:00 PM -->
      <div class="dateCard" aria-label="Fecha del evento">
        <div>
          <div class="dateSide">SÁBADO</div>
          <div class="mini-divider"></div>
          <div class="dateSide">MARZO</div>
        </div>

        <div>
          <div class="dateMid">28</div>
          <div class="dateBottom">2026</div>
        </div>

        <div>
          <div class="dateSide">5:00 PM</div>
          <div class="mini-divider"></div>
          <div class="dateSide">TEGUCIGALPA</div>
        </div>
      </div>

      

      <div class="quoteBox">
        <div class="quoteText">“Nosotros amamos porque él nos amó primero.”</div>
        <div class="quoteRef">1 Juan 4:19 (BHLP)</div>
      </div>
    </div>
  </section>

  <!-- ============ CEREMONIA / RECEPCIÓN ============ -->
  <section class="section reveal paper" id="lugares">
    <div class="container">
      <div style="max-width:860px;margin:0 auto;">
        <svg style="width:min(560px, 80vw);opacity:.42;margin:0 auto 10px;display:block" viewBox="0 0 800 180" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M80 110 C200 40, 300 40, 400 110 C500 180, 600 180, 720 110" fill="none" stroke="rgba(44,195,138,.35)" stroke-width="10" stroke-linecap="round"/>
        </svg>
      </div>

      <div class="twoCols">
        <div class="eventCard">
          <svg class="eventIcon" viewBox="0 0 64 64" aria-hidden="true">
            <path d="M32 6v10"/>
            <path d="M18 22h28"/>
            <path d="M12 54V28l20-14 20 14v26z"/>
            <path d="M26 54V38h12v16"/>
          </svg>
          <div class="eventTitle">Ceremonia civil y religiosa</div>
          <div class="eventPlace">El Mirador HN</div>
          <div class="mini-divider"></div>
          <div class="eventMeta">
            5:00 PM<br>
            El Hatillo, Tegucigalpa, Honduras
          </div>
          <div class="eventBtnRow">
            <a href="https://maps.app.goo.gl/ruHVNbzbjQC7MS3q7" target="_blank" rel="noopener">
              <button class="btn" type="button">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21s7-4.5 7-11a7 7 0 1 0-14 0c0 6.5 7 11 7 11z"/><path d="M12 10.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/></svg>
                Google Maps
              </button>
            </a>
          </div>
        </div>

        <div class="eventCard">
          <svg class="eventIcon" viewBox="0 0 64 64" aria-hidden="true">
            <path d="M20 10l6 18"/>
            <path d="M44 10l-6 18"/>
            <path d="M14 28h18"/>
            <path d="M32 28h18"/>
            <path d="M18 28c0 10 6 24 14 24"/>
            <path d="M46 28c0 10-6 24-14 24"/>
            <path d="M26 20h12"/>
            <path d="M30 40h4"/>
            <path d="M28 44h8"/>
          </svg>
          <div class="eventTitle">Recepción</div>
          <div class="eventPlace">El Mirador HN</div>
          <div class="mini-divider"></div>
          <div class="eventMeta">
            7:00 PM<br>
            El Hatillo, Tegucigalpa, Honduras
          </div>
          <div class="eventBtnRow">
            <a href="https://maps.app.goo.gl/ruHVNbzbjQC7MS3q7" target="_blank" rel="noopener">
              <button class="btn" type="button">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21s7-4.5 7-11a7 7 0 1 0-14 0c0 6.5 7 11 7 11z"/><path d="M12 10.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/></svg>
                Google Maps
              </button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ GALERÍA ============ -->
  <section class="section reveal paper-soft" id="galeria">
    <div class="container">
            <div class="galleryGrid" aria-label="Galería de fotos">
        <figure class="gItem a"><img loading="lazy" src="assets/fotos/FOTO-1.jpg" alt="Foto 1"></figure>
        <figure class="gItem b"><img loading="lazy" src="assets/fotos/FOTO-2.jpg" alt="Foto 2"></figure>
        <figure class="gItem c"><img loading="lazy" src="assets/fotos/FOTO-3.jpg" alt="Foto 3"></figure>
        <figure class="gItem d"><img loading="lazy" src="assets/fotos/FOTO-4.jpg" alt="Foto 4"></figure>
        <figure class="gItem e"><img loading="lazy" src="assets/fotos/FOTO-5.jpg" alt="Foto 5"></figure>
        <figure class="gItem f"><img loading="lazy" src="assets/fotos/FOTO-6.jpg" alt="Foto 6"></figure>
        <figure class="gItem g"><img loading="lazy" src="assets/fotos/FOTO-7.jpg" alt="Foto 7"></figure>





</div>
    </div>
  </section>

  

<section class="section reveal paper" id="itinerario">
  <div class="itinerary">
    <div class="itHeader">
      <h2 class="itTitle">Itinerario de Boda</h2>
      <p class="itSub">Para que disfrutes cada momento</p>
    </div>

    <div class="timeline">
      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M3 20h18"></path>
            <path d="M5 20V9l7-5 7 5v11"></path>
            <path d="M10 20v-6h4v6"></path>
            <path d="M9 9h6"></path>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">5:00 a 6:00 p.m.</p>
          <p class="tDesc">Inicia la ceremonia civil y religiosa</p>
        </div>
      </div>

      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M8 21V5a3 3 0 0 1 3-3h0a3 3 0 0 1 3 3v16"></path>
            <path d="M8 11h6"></path>
            <path d="M18 9l3 8a2 2 0 0 1-2 2h-3"></path>
            <path d="M18 9h-3l-1 3"></path>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">6:00 a 7:00 p.m.</p>
          <p class="tDesc">Brindis familiar</p>
        </div>
      </div>

      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M4 7h4l2-2h4l2 2h4v12H4z"></path>
            <path d="M12 11a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"></path>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">7:00 a 7:30 p.m.</p>
          <p class="tDesc">Sesión de fotos de los novios</p>
        </div>
      </div>

      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M7 18h10"></path>
            <path d="M6 10h12"></path>
            <path d="M7 10V7a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v3"></path>
            <path d="M6 10l-2 3v5h16v-5l-2-3"></path>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">7:30 a 9:00 p.m.</p>
          <p class="tDesc">Cena y banquete</p>
        </div>
      </div>

      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M7.5 8.5a3 3 0 1 0 0 6"></path>
            <path d="M16.5 8.5a3 3 0 1 1 0 6"></path>
            <path d="M9 12h6"></path>
            <path d="M12 12v6"></path>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">9:30 p.m.</p>
          <p class="tDesc">Primer baile de los esposos</p>
        </div>
      </div>

      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M9 18V5l12-2v13"></path>
            <path d="M9 9l12-2"></path>
            <circle cx="7" cy="18" r="2"></circle>
            <circle cx="19" cy="16" r="2"></circle>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">9:40 a 10:00 p.m.</p>
          <p class="tDesc">Diversión</p>
        </div>
      </div>

      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M6 21h12"></path>
            <path d="M7 21c0-4 10-4 10 0"></path>
            <path d="M8 9h8"></path>
            <path d="M9 3h6l-1 6H10z"></path>
            <path d="M7 13h10"></path>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">10:00 a 10:30 p.m.</p>
          <p class="tDesc">Partida de pastel</p>
        </div>
      </div>

      <div class="tItem">
        <span class="tDot" aria-hidden="true"></span>
        <div class="tIconWrap" aria-hidden="true">
          <svg class="tIcon" viewBox="0 0 24 24">
            <path d="M12 21s-7-4.5-9-9a5 5 0 0 1 8-5 5 5 0 0 1 8 5c-2 4.5-9 9-9 9z"></path>
          </svg>
        </div>
        <div class="tText">
          <p class="tTime">11:00 p.m.</p>
          <p class="tDesc">Termina la celebración de la boda</p>
        </div>
      </div>
    </div>
  </div>
</section>





<!-- Itinerario duplicado eliminado en v8.7 -->





<!-- ============ RSVP / VESTIMENTA / REGALOS ============ -->
  <section class="section reveal paper" id="rsvp">
    <div class="container">
      


      <div class="split2">
        <div class="infoBlock">
          <svg class="infoIcon" viewBox="0 0 64 64" aria-hidden="true">
            <path d="M16 40c12 8 20 8 32 0"/>
            <path d="M16 24c12-8 20-8 32 0"/>
            <path d="M20 20l-8-6"/>
            <path d="M44 20l8-6"/>
            <path d="M20 44l-8 6"/>
            <path d="M44 44l8 6"/>
            <path d="M22 32h20"/>
          </svg>
          <div class="infoTitle">Código de vestimenta</div>
          <div class="infoText">
            <strong>Etiqueta</strong><br>
            Hombres: Traje formal o smoking<br>
            Mujeres: Vestido largo elegante<br><br>
            <strong>Colores no permitidos:</strong> rojo, blanco y beige
          </div>
        </div>

        <div class="infoBlock">
          <svg class="infoIcon" viewBox="0 0 64 64" aria-hidden="true">
            <path d="M14 24h36v28H14z"/>
            <path d="M20 24c0-6 4-10 12-10s12 4 12 10"/>
            <path d="M32 24v28"/>
            <path d="M14 34h36"/>
            <path d="M26 14h12"/>
            <path d="M48 18l6-6"/>
          </svg>
          <div class="infoTitle">Regalos</div>
          <div class="infoText">
            Nuestro mejor regalo es tu presencia, pero si quieres darnos un presente puedes ver las siguientes opciones:
          </div>
          <div style="margin-top:16px;">
            <button class="btn" type="button" id="openGiftModal">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M20 12v10H4V12"/><path d="M22 7H2v5h20z"/><path d="M12 22V7"/><path d="M12 7H8.5a2.5 2.5 0 1 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h3.5a2.5 2.5 0 1 0 0-5C13 2 12 7 12 7z"/></svg>
              Ver opciones
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Modal Regalos -->
  <div class="modal" id="giftModal" aria-hidden="true">
    <div class="modal__backdrop" data-gift-close></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="giftTitle">
      <button class="modal__close" type="button" aria-label="Cerrar" data-gift-close>&times;</button>
      <h3 id="giftTitle">Opciones de regalo</h3>
      <p class="modal__subtitle">
        Nuestro mejor regalo es tu presencia. Si deseas hacernos un obsequio, puedes usar cualquiera de estas cuentas.
        <strong>Toca una para copiar el número</strong>.
      </p>

      <div class="optList" id="giftOptList">
        <button class="optItem" type="button" data-copy="742840331">
          <div class="optLabel">Cuenta de ahorro BAC en lempiras — Ana Josse Machado</div>
          <div class="optValue">742840331</div>
                  <div class="optHint">Toca para copiar</div>
        </button>

        <button class="optItem" type="button" data-copy="758816101">
          <div class="optLabel">Cuenta de ahorro BAC en lempiras — Daniel Peralta</div>
          <div class="optValue">758816101</div>
                  <div class="optHint">Toca para copiar</div>
        </button>

        <button class="optItem" type="button" data-copy="758779591">
          <div class="optLabel">Cuenta de ahorro BAC en dólares — Daniel Peralta</div>
          <div class="optValue">758779591</div>
                  <div class="optHint">Toca para copiar</div>
        </button>

        <button class="optItem" type="button" data-copy="200015045832">
          <div class="optLabel">Cuenta de ahorro FICOHSA en lempiras — Daniel Peralta</div>
          <div class="optValue">200015045832</div>
                  <div class="optHint">Toca para copiar</div>
        </button>
      </div>

      <div class="copyToast" id="giftToast" role="status" aria-live="polite">Copiado ✓</div>
    </div>
  </div>

  <!-- ============ CONFIRMACIÓN (WhatsApp + Sheet) ============ -->
  <section class="section reveal paper-soft" id="confirmacion">
    <div class="container">
      <h2 style="color:rgba(6,31,20,.88);">Confirmación de Asistencia</h2>
      <div class="divider"></div>

      <div style="margin-top:22px;">
        <a href="https://wa.me/50431790033?text=Hola%20confirmo%20mi%20asistencia%20a%20la%20boda%20de%20Daniel%20y%20Ana%20Josse" target="_blank" rel="noopener">
          <button class="btn" type="button">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M20.5 11.6a8.5 8.5 0 0 1-12.7 7.3L3 20l1.2-4.6a8.5 8.5 0 1 1 16.3-3.8z"/><path d="M8.5 8.8c.6-1.1 1.2-1.1 1.7-.9.5.2 1.1 1.5 1 1.9-.1.4-.3.7-.6 1 .7 1.4 1.8 2.5 3.2 3.2.3-.3.6-.5 1-.6.4-.1 1.7.5 1.9 1 .2.5.2 1.1-.9 1.7"/></svg>
            Confirmar por WhatsApp
          </button>
        </a>
      </div>

      <div style="margin-top:26px;color:rgba(6,31,20,.72);">O confirma aquí:</div>

      <div class="formWrap">
        <form id="rsvpForm">

<div class="rsvpChoice" aria-label="Confirmación de asistencia">
  <button type="button" class="choiceBtn is-active" data-value="Sí">Sí, asistiré</button>
  <button type="button" class="choiceBtn" data-value="No">Con gratitud, no podré asistir</button>
  <input type="hidden" id="rsvpAttend" value="Sí" />
</div>

          <div class="fieldRow">
            <input class="field" type="text" id="rsvpName" placeholder="Nombre completo" required>
          </div>
          <div class="sendRow">
            <button class="btn" id="rsvpBtn" type="submit">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M22 2L11 13"/><path d="M22 2l-7 20-4-9-9-4z"/></svg>
              Enviar confirmación
            </button>
          </div>
          <div class="statusMsg" id="rsvpMsg"></div>
        </form>
      </div>
    </div>
  </section>

  <footer>
    Daniel &amp; Ana Josse • 28/03/2026 • Tegucigalpa, Honduras
  </footer>

  <!-- Toggle visual (solo para emular el switch de la referencia) -->
  <div class="modeToggle" id="modeToggle" aria-label="Cambiar modo">
    <div class="modeKnob"></div>
  </div>

<script>
/* ===== V8 Fix7: Countdown + robust image loading (GitHub Pages is case-sensitive) ===== */
(function(){
  // ----- Countdown -----
  function pad2(n){ return String(n).padStart(2,"0"); }
  function updateCountdown(){
    // Wedding: 28 Mar 2026, 5:00 PM Tegucigalpa (-06:00). Use local time on device.
    const target = new Date(2026, 2, 28, 17, 0, 0); // month is 0-based
    const now = new Date();
    let diff = target.getTime() - now.getTime();
    if(!Number.isFinite(diff)) return;

    const elDays = document.getElementById("cdDays");
    const elHours = document.getElementById("cdHours");
    const elMins = document.getElementById("cdMins");
    const elSecs = document.getElementById("cdSecs");
    if(!elDays || !elHours || !elMins || !elSecs) return;

    if(diff <= 0){
      elDays.textContent = "0";
      elHours.textContent = "0";
      elMins.textContent = "0";
      elSecs.textContent = "0";
      return;
    }

    const s = Math.floor(diff/1000);
    const days = Math.floor(s / 86400);
    const hours = Math.floor((s % 86400) / 3600);
    const mins = Math.floor((s % 3600) / 60);
    const secs = s % 60;

    elDays.textContent = String(days);
    elHours.textContent = pad2(hours);
    elMins.textContent = pad2(mins);
    elSecs.textContent = pad2(secs);
  }
  updateCountdown();
  setInterval(updateCountdown, 1000);

  // ----- Prevent any accidental "jump to top" on submit buttons -----
  document.querySelectorAll("form").forEach(f=>{
    f.addEventListener("submit",(e)=>{ e.preventDefault(); }, true);
  });

  // ----- Robust image loader: tries .jpg/.jpeg/.JPG/.JPEG when one fails -----
  const exts = [".jpg",".jpeg",".JPG",".JPEG"];
  function tryNext(img, base, i){
    if(i >= exts.length){ return; }
    img.src = base + exts[i];
  }
  function attachFallback(img){
    if(!img || !img.getAttribute) return;
    const src = img.getAttribute("src") || "";
    if(!src) return;
    const base = src.replace(/\.(jpg|jpeg|JPG|JPEG)$/, "");
    img.addEventListener("error", function(){
      const current = img.getAttribute("src") || "";
      const curBase = current.replace(/\.(jpg|jpeg|JPG|JPEG)$/, "");
      const idx = exts.findIndex(e => current.endsWith(e));
      tryNext(img, curBase || base, (idx >= 0 ? idx+1 : 0));
    });
  }
  document.querySelectorAll("img").forEach(attachFallback);

  // ----- Hex photo: if background doesn't load, swap via preload + fallback -----
  const hex = document.querySelector(".hex-photo");
  if(hex){
    const url = getComputedStyle(hex).backgroundImage || "";
    const m = url.match(/url\(["']?([^"')]+)["']?\)/);
    const first = m ? m[1] : "assets/fotos/FOTO-14.jpg";
    const base = first.replace(/\.(jpg|jpeg|JPG|JPEG)$/, "");
    const probe = new Image();
    let idx = 0;
    function setBg(u){ hex.style.backgroundImage = `url('${u}')`; }
    function load(){
      probe.src = base + exts[idx];
    }
    probe.onload = ()=> setBg(probe.src);
    probe.onerror = ()=>{
      idx += 1;
      if(idx < exts.length) load();
    };
    load();
  }
})();
</script>

<script>
/* ===============================
   V8 FIX: Abrir sobre siempre (PC/iPhone) + música controlable
================================ */
(() => {
  const gate = document.getElementById("gate");
  const wrap = document.getElementById("envWrap") || document.getElementById("envelopeWrap");
  const audio = document.getElementById("bgMusic") || document.getElementById("bgMusic");
  const musicBtn = document.getElementById("musicBtn");
  const label = musicBtn ? musicBtn.querySelector(".label") : null;

  let opened = false;

  function setMusicUI(playing){
    if(!musicBtn) return;
    if(playing){
      musicBtn.classList.add("music-playing");
      if(label) label.textContent = "⏸ Pausa";
    }else{
      musicBtn.classList.remove("music-playing");
      if(label) label.textContent = "▶ Play";
    }
  }

  async function tryPlay(){
    if(!audio) return false;
    try{
      await audio.play();
      setMusicUI(true);
      return true;
    }catch(e){
      return false;
    }
  }

  function pauseMusic(){
    if(!audio) return;
    try{ audio.pause(); }catch(e){}
    setMusicUI(false);
  }

  window.toggleMusic = async function(ev){
    if(ev){ ev.preventDefault(); ev.stopPropagation(); }
    if(!audio) return;
    if(audio.paused){
      await tryPlay();
    }else{
      pauseMusic();
    }
  };

/** ====== Botón Play/Pausa (UI) ====== */
(function bindPlayButton(){
  const btn = document.getElementById("musicBtn");
  if(!btn) return;

  // evita que el click dispare otros handlers (p.ej. abrir invitación)
  const handler = (e) => {
    e.preventDefault();
    e.stopPropagation();
    if(typeof window.toggleMusic === "function") window.toggleMusic();
  };

  btn.addEventListener("click", handler);
  btn.addEventListener("touchstart", handler, {passive:false});

  // Mantener el texto/estado del botón sincronizado
  const audio = document.getElementById("bgMusic");
  if(audio){
    audio.addEventListener("play", () => { if(typeof window.setMusicUI === "function") window.setMusicUI(); });
    audio.addEventListener("pause", () => { if(typeof window.setMusicUI === "function") window.setMusicUI(); });
    audio.addEventListener("ended", () => { if(typeof window.setMusicUI === "function") window.setMusicUI(); });
  }
})();


  window.openInvitation = async function(ev){
    if(ev){ ev.preventDefault(); ev.stopPropagation(); }
    if(opened) return;
    opened = true;

    if(wrap) wrap.classList.add("open");

    if(gate){
      gate.style.transition = "opacity 550ms ease";
      gate.style.opacity = "0";
      setTimeout(() => {
        gate.style.display = "none";
        document.body.classList.add("inv-open");
        window.scrollTo({ top: 0, behavior: "smooth" });
      }, 700);
    }

    await tryPlay();
  };

  if(wrap){
    ["pointerup","touchend","click"].forEach(evt => {
      wrap.addEventListener(evt, (e) => window.openInvitation(e), { passive:false });
    });
    wrap.addEventListener("keydown", (e) => {
      if(e.key === "Enter" || e.key === " "){
        e.preventDefault();
        window.openInvitation(e);
      }
    });
  }

  if(audio){
    audio.addEventListener("play", () => setMusicUI(true));
    audio.addEventListener("pause", () => setMusicUI(false));
  }
})();

/** ====== Util ====== */
function escapeHtml(str){
  return String(str).replace(/[&<>"']/g, (m) => ({
    "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#039;"
  }[m]));
}

/** ====== RSVP -> Google Sheets (robusto) ====== */
const RSVP_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxkfDy0-ovoc2ABaKdqK1j4WqXrqN_zze4991rvbDJUa9jk6DV4QzK5BG_6XPwkqcggrg/exec";

(function initRsvpForm(){
  const form = document.getElementById("rsvpForm");
  const nameEl = document.getElementById("rsvpName");
  const msgEl  = document.getElementById("rsvpMsg");

// Selector elegante: Sí / No
const choiceBtns = Array.from(document.querySelectorAll(".rsvpChoice .choiceBtn"));
const attendInput = document.getElementById("rsvpAttend");
choiceBtns.forEach((btn) => {
  btn.addEventListener("click", () => {
    choiceBtns.forEach((b) => b.classList.remove("is-active"));
    btn.classList.add("is-active");
    if (attendInput) attendInput.value = btn.dataset.value || "Sí";
  });
});

  const btnEl  = document.getElementById("rsvpBtn");
  if(!form || !nameEl || !msgEl || !btnEl) return;

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const name = (nameEl.value || "").trim();
    if(!name){
      msgEl.textContent = "Por favor escribe tu nombre.";
      return;
    }

    btnEl.disabled = true;
    msgEl.textContent = "Enviando confirmación...";

    try {
      const attend = (document.getElementById("rsvpAttend")?.value || "Sí");
      const body = new URLSearchParams({
        action: "rsvp",
        name,
        attend,
        ua: navigator.userAgent
      }).toString();

      const res = await fetch(RSVP_SCRIPT_URL, {
        method: "POST",
        mode: "no-cors",
        headers: {"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},
        body
      });

      // Nota: el Web App de Apps Script no expone CORS, así que usamos `no-cors`.
      // Eso hace que la respuesta sea "opaque" (no se puede leer), pero el registro sí se guarda en la hoja.
      msgEl.innerHTML = '<span class="ok">¡Listo! Tu confirmación fue registrada. 💚</span>';
      nameEl.value = "";

    } catch(err) {
      msgEl.textContent = "Error de conexión. Intenta de nuevo.";
    } finally {
      btnEl.disabled = false;
    }
  });
})();

</script>


<script>
(function(){
  const openBtn = document.getElementById('openGiftModal');
  const modal = document.getElementById('giftModal');
  const toast = document.getElementById('giftToast');
  const optList = document.getElementById('giftOptList');

  if(!openBtn || !modal) return;

  function openModal(){
    modal.classList.add('is-open');
    modal.setAttribute('aria-hidden','false');
    document.body.classList.add('modal-open');
  }

  function closeModal(){
    modal.classList.remove('is-open');
    modal.setAttribute('aria-hidden','true');
    document.body.classList.remove('modal-open');
  }

  openBtn.addEventListener('click', function(e){
    e.preventDefault();
    openModal();
  });

  modal.addEventListener('click', function(e){
    const t = e.target;
    if(t && t.hasAttribute && t.hasAttribute('data-gift-close')) closeModal();
  });

  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && modal.classList.contains('is-open')) closeModal();
  });

  let toastTimer = null;
  function showToast(msg){
    if(!toast) return;
    toast.textContent = msg;
    toast.classList.add('show');
    clearTimeout(toastTimer);
    toastTimer = setTimeout(()=>toast.classList.remove('show'), 1400);
  }

  async function copyText(text){
    try{
      if(navigator.clipboard && navigator.clipboard.writeText){
        await navigator.clipboard.writeText(text);
        return true;
      }
    }catch(err){}
    // Fallback
    try{
      const ta = document.createElement('textarea');
      ta.value = text;
      ta.setAttribute('readonly','');
      ta.style.position = 'fixed';
      ta.style.opacity = '0';
      document.body.appendChild(ta);
      ta.select();
      const ok = document.execCommand('copy');
      document.body.removeChild(ta);
      return ok;
    }catch(err2){
      return false;
    }
  }

  if(optList){
    optList.addEventListener('click', async function(e){
      const btn = e.target.closest('.optItem');
      if(!btn) return;
      const val = btn.getAttribute('data-copy') || '';
      if(!val) return;

      const ok = await copyText(val);
      showToast(ok ? 'Copiado ✓' : 'No se pudo copiar');
    });
  }
})();
</script>

</body>
</html>
